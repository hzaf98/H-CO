{% extends 'base.html' %}

{% block head %}
<title>Update Dispatches</title>
{% endblock %}

{% block body %}
<div class = "content">

<h1 style="text-align: center">Update Dispatched Orders Form</h1>
    
<h4 style="text-align: center">Update a Dispatched Order Entry below</h4>

    <form class = "grid-wrapper" action="/dispupdate/{{ dispatches.id }}" method="POST">
        <div class = "grid-form">
            <h4>FormID</h4><input type="text" name="id" value="{{dispatches.id}}" readonly>
            <h4>Dispatch Date</h4><input type="text" name="dispatch_date" value="{{dispatches.dispatch_date}}" placeholder="DD/MM/YYYY"> <!-- Date when the product is dispatched.
            -->
            <h4>Dispatch Time</h4><input type="text" name="dispatch_time" value="{{dispatches.dispatch_time}}" placeholder="00:00"> <!--  Name of the product.
            -->
            <h4>Collected</h4><input type="text" name="collected" value="{{dispatches.collected}}" placeholder="Yes or No"> <!--   -->
            <h4>Delivered</h4><input type="text" name="delivered" value="{{dispatches.delivered}}" placeholder="Yes or No"> <!--  -->
            <div id="products" style="width:100%">
                {% for dispatched_product in dispatched_products %}
                    <div class="product">
                        <h4>Product</h4><input type="text" name="product[]" value="{{ dispatched_product.product_name }}">
                    </div>
                {% endfor %}
            </div>
            <!-- <button style = "margin:10px; "type="button" id="add-product">Add More Products</button> -->

            <h4>Recipient Name</h4><input type="text" name="recipient" value="{{dispatches.recipient}}"><!-- Name of the person or entity receiving the product. -->
        </div>
        <div class = "grid-form">
            <h4>Delivery Address</h4><input type="text" name="delivery_add" value="{{dispatches.delivery_add}}"> <!-- Address where the product is to be delivered.
            -->
            <h4>Collector Name</h4><input type="text" name="collector" value="{{dispatches.collector}}" placeholder="Name"> <!-- Name of the person collecting the product.
            -->
            <h4>Collector REG and Vehicle</h4><input type="text" name="vehicle" value="{{dispatches.vehicle}}"> <!--  -->
            <h4>Signature/Confirmation</h4><input type="text" name="signature" value="{{dispatches.signature}}"> <!-- Digital signature or confirmation of the collector or recipient upon collection/delivery.
            -->

            <h4>Verified By</h4><input type="text" name="verified_by" value="{{dispatches.verified_by}}"> <!-- Name of the person who verified the dispatch. -->
            <h4>Verification Date</h4><input type="text" name="verified_date" value="{{dispatches.verified_date}}" placeholder="DD/MM/YYYY">    <!-- Date when the dispatch was verified. -->
            <h4>Date Created</h4><input type="text" name="date_created" value="{{dispatches.date_created}}" readonly>

            <input type="submit" value="Submit">
        </div>
    </form>
    <div>
    <a href="/">Menu</a>
    </div>
<!-- <script>
        const addProductButton = document.getElementById('add-product');
        const productsContainer = document.getElementById('products');
      
        addProductButton.addEventListener('click', () => {
          const newProduct = document.createElement('div');
          newProduct.className = 'product';
          newProduct.innerHTML = `
            <h4>Product</h4><input type="text" name="product[]">
            <h4>Quantity</h4><input type="text" name="quantity[]">
          `;
          productsContainer.appendChild(newProduct);
        });
</script> -->
</div>

{% endblock %}